<div class="container">
  <venko-async-container [isLoading]="routineIsLoading$ | async">
    <div class="slide-container" [class.full-screen]="isfullscreen">
      <ngb-carousel>
        <ng-template ngbSlide *ngFor="let exercise of exercises$ | async">
          <venko-video-modal *ngIf="exercise.fields.youtubeUrl !== ''" videoCode="{{exercise.fields.youtubeUrl}}"></venko-video-modal>
          <div class="picsum-img-wrapper">
            <img src="{{ environment.host }}/{{exercise.fields.video}}" class="d-block w-100">
          </div>
        </ng-template>
      </ngb-carousel>
      <venko-timer [style.display]="isTimerVisible ? 'block' : 'none'" (timerEnded)="whenTimerEnded()"></venko-timer>
      <button *ngIf="!isfullscreen" (click)="openfullscreen()" class="btn btn-outline-light maximize"><fa-icon [icon]="faWindowMaximize"></fa-icon></button>
      <button *ngIf="isfullscreen" (click)="closefullscreen()" class="btn btn-outline-light maximize"><fa-icon [icon]="faWindowRestore"></fa-icon></button>
    </div>

    <div class="form-inline">
      <button [disabled]="isTimerVisible" (click)="restTime = 30" class="btn btn-success mr-sm-2 mb-2">{{ 'routineComponent.easyButton' | translate }}</button>
      <button [disabled]="isTimerVisible" (click)="restTime = 15" class="btn btn-warning mx-sm-2 mb-2">{{ 'routineComponent.mediumButton' | translate }}</button>
      <button [disabled]="isTimerVisible" (click)="restTime = 10" class="btn btn-dark mx-sm-2 mb-2">{{ 'routineComponent.hardButton' | translate }}</button>
      <div class="form-group mx-sm-2 mb-2">
        <input type="text"
        class="form-control"
        [(ngModel)]="restTime"
        placeholder="10"
        autofocus
        id="restTime"
        [disabled]="isTimerVisible"
        >
      </div>
      <button *ngIf="!isTimerVisible" (click)="initTimer()" class="btn btn-primary ml-sm-2 mb-2">{{ 'routineComponent.startButton' | translate }}</button>
      <button *ngIf="isTimerVisible" (click)="stopTimer()" class="btn btn-dark ml-sm-2 mb-2">{{ 'routineComponent.stopButton' | translate }}</button>
    </div>


    <pre *ngIf="!environment.production">
      <code>{{ exercises$ | async | json }}</code>
    </pre>
  </venko-async-container>
</div>
